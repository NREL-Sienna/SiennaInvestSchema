{
    "$id": "https://example.com/arrays.schema.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "A data model to support investment decision models in Power Systems",
    "title": "PorfolioData",
    "type": "object",
    "properties": {
        "supply_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/SupplyTechnology"
            }
        },
        "storage_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/StorageTechnology"
            }
        },
        "demandside_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/DemandSideTechnology"
            }
        },
        "transport_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/TransportTechnology"
            }
        },
        "DemandRequirements": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/DemandRequirement"
            }
        }
    },
    "$defs": {
        "SupplyTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type",
                "prime_mover_type",
                "fuel",
                "capital_cost",
                "operations_cost",
                "variable_cost",
                "initial_capacity",
                "maximum_capacity",
                "minimum_required_capacity",
                "capacity_factor"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "Unique name"
                },
                "bus": {
                    "type": "String",
                    "description": "name of bus to which generator is attached"
                },
                "p_nom": {
                    "type": "Float64",
                    "description": "Nominal power for limits in optimization.",
                    "default": "0.0"
                },
                "p_nom_mod": {
                    "type": "Float64",
                    "description": "Nominal power of the generator module.",
                    "default": "0.0"
                },
                "p_nom_extendable": {
                    "type": "Bool",
                    "description": "Switch to allow capacity p_nom to be extended in optimization.",
                    "default": "False"
                },
                "p_nom_min": {
                    "type": "Float64",
                    "description": "If p_nom is extendable in OPF, set its minimum value.",
                    "default": "0.0"
                },
                "p_nom_max": {
                    "type": "Float64",
                    "description": "If p_nom is extendable in OPF, set its maximum value.",
                    "default": "Inf"
                },
                "p_min_pu": {
                    "type": "Float64",
                    "description": "The minimum output for each snapshot per unit of p_nom for the optimization",
                    "default": "-1.0"
                },
                "p_max_pu": {
                    "type": "Float64",
                    "description": "The maximum output for each snapshot per unit of p_nom for the optimization.",
                    "default": "1.0"
                },
                "prime_mover_type": {
                    "type": "PrimeMovers",
                    "enum": [
                        "BT",
                        "CA",
                        "CC",
                        "CS",
                        "CT",
                        "FC",
                        "GT",
                        "HA",
                        "HB",
                        "HK",
                        "HY",
                        "IC",
                        "OT",
                        "ST",
                        "PVe",
                        "WT",
                        "WS"
                    ],
                    "default": "PrimeMovers.OT",
                    "description": "Prime mover for generator"
                },
                "fuel": {
                    "type": "ThermalFuels",
                    "enum": [
                        "COAL",
                        "WASTE_COAL",
                        "DISTILLATE_FUEL_OIL",
                        "WASTE_OIL",
                        "PETROLEUM_COKE",
                        "RESIDUAL_FUEL_OIL",
                        "NATURAL_GAS",
                        "OTHER_GAS",
                        "NUCLEAR",
                        "AG_BIPRODUCT",
                        "MUNICIPAL_WASTE",
                        "WOOD_WASTE",
                        "GEOTHERMAL",
                        "OTHER"
                    ],
                    "default": "ThermalFuels.OTHER",
                    "description": "Fuel type according to IEA"
                },
                "marginal_cost": {
                    "type": "PSY.ValueCurve",
                    "description": "Marginal cost of production of 1 MWh."
                },
                "capital_cost": {
                    "type": "PSY.ValueCurve",
                    "description": "Fixed period costs of extending p_nom by 1 MW, including periodized investment costs and periodic fixed O&M costs (e.g. annuitized investment costs)."
                },
                "build_year": {
                    "type": "Int",
                    "description": "build year",
                    "default": "0"
                },
                "lifetime": {
                    "type": "Float64",
                    "description": "lifetime, years",
                    "default": "Inf"
                },
                "capacity_factor": {
                    "type": "Float64",
                    "description": "Derating factor to account for planned or forced outages of a technology",
                    "default": "1.0"
                },
                "efficiency": {
                    "type": "PSY.ValueCurve",
                    "description": "Ratio between primary energy and electrical energy"
                },
                "commitable": {
                    "type": "Bool",
                    "description": "Use unit commitment (only possible if p_nom is not extendable).",
                    "default": "False"
                },
                "start_up_cost": {
                    "type": "Float64",
                    "description": "Cost to start up the generator. Only read if committable is True.",
                    "default": "0.0"
                },
                "shut_down_cost": {
                    "type": "Float64",
                    "description": "Cost to shut down the generator. Only read if committable is True.",
                    "default": "0.0"
                },
                "stand_by_cost": {
                    "type": "Float64",
                    "description": "Stand-by cost for operating the generator at null power output.",
                    "default": "0.0"
                },
                "min_up_time": {
                    "type": "Int",
                    "description": "Minimum number of snapshots for status to be 1. Only read if committable is True.",
                    "default": "0"
                },
                "min_down_time": {
                    "type": "Int",
                    "description": "Minimum number of snapshots for status to be 0. Only read if committable is True.",
                    "default": "0"
                },
                "up_time_before": {
                    "type": "Int",
                    "description": "Number of snapshots that the generator was online before network.snapshots start. Only read if committable is True and min_up_time is non-zero.",
                    "default": "0"
                },
                "down_time_before": {
                    "type": "Int",
                    "description": "Number of snapshots that the generator was offline before network.snapshots start. Only read if committable is True and min_down_time is non-zero.",
                    "default": "0"
                },
                "ramp_limit_up": {
                    "type": "Union{Nothing, Float64}",
                    "description": "Maximum active power increase from one snapshot to the next, per unit of the nominal power. Ignored if NaN.",
                    "default": "Nothing"
                },
                "ramp_limit_down": {
                    "type": "Union{Nothing, Float64}",
                    "description": "Maximum active power decrease from one snapshot to the next, per unit of the nominal power. Ignored if NaN.",
                    "default": "Nothing"
                },
                "ramp_limit_start_up": {
                    "type": "Float64",
                    "description": "Maximum active power increase at start up, per unit of the nominal power. Only read if committable is True.",
                    "default": "1.0"
                },
                "ramp_limit_start_down": {
                    "type": "Float64",
                    "description": "Maximum active power decrease at shut down, per unit of the nominal power. Only read if committable is True.",
                    "default": "1.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Generator"
        },
        "StorageTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type",
                "storage_tech"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "Unique name"
                },
                "bus": {
                    "type": "String",
                    "description": "Name of bus to which storage unit is attached."
                },
                "prime_mover_type": {
                    "type": "PrimeMovers",
                    "enum": [
                        "BA",
                        "CE",
                        "CP",
                        "ES",
                        "FW",
                        "PS"
                    ],
                    "description": "Prime mover for storage"
                },
                "storage_tech": {
                    "type": "StorageTech",
                    "enum": [
                        "PTES",
                        "LIB",
                        "LAB",
                        "FLWB",
                        "SIB",
                        "ZIB",
                        "HGS",
                        "LAES",
                        "OTHER_CHEM",
                        "OTHER_MECH",
                        "OTHER_THERM"
                    ],
                    "description": "Storage Technology Type"
                },
                "p_nom": {
                    "type": "Float64",
                    "description": "Nominal power for limits in OPF.",
                    "default": "0.0"
                },
                "p_nom_mod": {
                    "type": "Float64",
                    "description": "Nominal power of the storage unit module.",
                    "default": "0.0"
                },
                "p_nom_extendable": {
                    "type": "Bool",
                    "description": "Switch to allow capacity p_nom to be extended in OPF.",
                    "default": "False"
                },
                "p_nom_min": {
                    "type": "Float64",
                    "description": "If p_nom is extendable in OPF, set its minimum value.",
                    "default": "0.0"
                },
                "p_nom_max": {
                    "type": "Float64",
                    "description": "If p_nom is extendable in OPF, set its maximum value.",
                    "default": "Inf"
                },
                "p_min_pu": {
                    "type": "Float64",
                    "description": "The minimum output for each snapshot per unit of p_nom for the OPF (negative sign implies storing mode withdrawing power from bus).",
                    "default": "-1.0"
                },
                "p_max_pu": {
                    "type": "Float64",
                    "description": "The maximum output for each snapshot per unit of p_nom for the OPF.",
                    "default": "1.0"
                },
                "marginal_cost": {
                    "type": "PSY.ValueCurve",
                    "description": "Marginal cost of production of 1 MWh."
                },
                "capital_cost": {
                    "type": "PSY.ValueCurve",
                    "description": "Fixed period costs of extending p_nom by 1 MW, including periodized investment costs and periodic fixed O&M costs (e.g. annuitized investment costs)."
                },
                "lifetime": {
                    "type": "Float64",
                    "description": "lifetime, years",
                    "default": "Inf"
                },
                "state_of_charge_initial": {
                    "type": "Float64",
                    "description": "State of charge before the snapshots in the OPF.",
                    "default": "0"
                },
                "state_of_charge_initial_per_period": {
                    "type": "Bool",
                    "description": "Switch: if True, then state of charge at the beginning of an investment period is set to state_of_charge_initial",
                    "default": "False"
                },
                "max_hours": {
                    "type": "Float64",
                    "description": "Maximum state of charge capacity in terms of hours at full output capacity p_nom",
                    "default": "1.0"
                },
                "efficiency_dispatch": {
                    "type": "Float64",
                    "description": "Efficiency of storage on the way out of the storage.",
                    "default": "1.0"
                },
                "efficiency_store": {
                    "type": "Float64",
                    "description": "Efficiency of storage on the way into the storage.",
                    "default": "1.0"
                },
                "standing_loss": {
                    "type": "Float64",
                    "description": "Losses per hour to state of charge.",
                    "default": "0.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Storage"
        },
        "DemandSideTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.StaticInjection"
        },
        "TransportTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Device"
        },
        "DemandRequirement": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available",
                    "default": "true"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "peak_load": {
                    "type": "Float64",
                    "description": "Demand value (MW) for single timepoint (for now)",
                    "default": "100.0"
                },
                "region": {
                    "type": "String",
                    "description": "Corresponding region for peak demand"
                },
                "load_growth": {
                    "type": "Float64",
                    "description": "Annual load growth (%)",
                    "default": "1.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.StaticInjection"
        }
    }
}
