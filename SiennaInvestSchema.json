{
    "$id": "https://example.com/arrays.schema.json",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "A data model to support investment decision models in Power Systems",
    "title": "PorfolioData",
    "type": "object",
    "properties": {
        "supply_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/SupplyTechnology"
            }
        },
        "storage_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/StorageTechnology"
            }
        },
        "demandside_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/DemandSideTechnology"
            }
        },
        "flexibledemand_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/FlexibleDemandTechnology"
            }
        },
        "electrolyzers": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/Electrolyzers"
            }
        },
        "transport_technologies": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/TransportTechnology"
            }
        },
        "DemandRequirements": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/DemandRequirement"
            }
        },
        "CoLocatedSupplyStorageTechnology": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/CoLocatedSupplyStorageTechnology"
            }
        }
    },
    "$defs": {
        "SupplyTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type",
                "prime_mover_type",
                "fuel",
                "capital_cost",
                "operations_cost",
                "variable_cost",
                "initial_capacity",
                "maximum_capacity",
                "minimum_required_capacity",
                "outage_factor"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "region": {
                    "type": "String",
                    "description": "Region/zone technology operates in",
                    "default": "1.0"
                },
                "gen_ID": {
                    "type": "String",
                    "description": "ID for individual generator"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "balancing_topology": {
                    "type": "String",
                    "description": "Set of balancing nodes"
                },
                "base_power": {
                    "type": "Float64",
                    "description": "Base power"
                },
                "prime_mover_type": {
                    "type": "PrimeMovers",
                    "enum": [
                        "BT",
                        "CA",
                        "CC",
                        "CS",
                        "CT",
                        "FC",
                        "GT",
                        "HA",
                        "HB",
                        "HK",
                        "HY",
                        "IC",
                        "OT",
                        "ST",
                        "PVe",
                        "WT",
                        "WS"
                    ],
                    "default": "PrimeMovers.OT",
                    "description": "Prime mover for generator"
                },
                "fuel": {
                    "type": "Union{ThermalFuels, Dict{ThermalFuels, ThermalFuels}}",
                    "enum": [
                        "COAL",
                        "WASTE_COAL",
                        "DISTILLATE_FUEL_OIL",
                        "WASTE_OIL",
                        "PETROLEUM_COKE",
                        "RESIDUAL_FUEL_OIL",
                        "NATURAL_GAS",
                        "OTHER_GAS",
                        "NUCLEAR",
                        "AG_BIPRODUCT",
                        "MUNICIPAL_WASTE",
                        "WOOD_WASTE",
                        "GEOTHERMAL",
                        "OTHER"
                    ],
                    "default": "ThermalFuels.OTHER",
                    "description": "Fuel type according to IEA"
                },
                "heat_rate": {
                    "type": "Union{PSY.ValueCurve, Dict{ThermalFuels, PSY.ValueCurve}}",
                    "description": "Heat rate of generator, MMBTU/MWh",
                    "default": "1.0"
                },
                "cofire_start_min": {
                    "type": "Union{Nothing, Dict{ThermalFuels, Float64}}",
                    "description": "Minimum blending level of each fuel during start-up process for multi-fuel generator"
                },
                "cofire_start_max": {
                    "type": "Union{Nothing, Dict{ThermalFuels, Float64}}",
                    "description": "Maximum blending level of each fuel during start-up process for multi-fuel generator"
                },
                "cofire_level_min": {
                    "type": "Union{Nothing, Dict{ThermalFuels, Float64}}",
                    "description": "Minimum blending level of each fuel during normal generation process for multi-fuel generator"
                },
                "cofire_level_max": {
                    "type": "Union{Nothing, Dict{ThermalFuels, Float64}}",
                    "description": "Maximum blending level of each fuel during normal generation process for multi-fuel generator"
                },
                "capital_cost": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for investing in a technology.",
                    "default": "0.0"
                },
                "operations_cost": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for a technology"
                },
                "initial_capacity": {
                    "type": "Float64",
                    "description": "Pre-existing capacity for a technology"
                },
                "maximum_capacity": {
                    "type": "Float64",
                    "description": "Maximum allowable installed capacity for a technology",
                    "default": "Inf"
                },
                "minimum_required_capacity": {
                    "type": "Float64",
                    "description": "Minimum required capacity for a technology",
                    "default": "0.0"
                },
                "outage_factor": {
                    "type": "Float64",
                    "description": "Derating factor to account for planned or forced outages of a technology",
                    "default": "1.0"
                },
                "minimum_generation": {
                    "type": "Float64",
                    "description": "Minimum generation as a fraction of total capacity",
                    "default": "0.0"
                },
                "ramp_up": {
                    "type": "Float64",
                    "description": "Maximum increase in output between operation periods. Fraction of total capacity",
                    "default": "1.0"
                },
                "ramp_down": {
                    "type": "Float64",
                    "description": "Maximum decrease in output between operation periods. Fraction of total capacity",
                    "default": "1.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Generator"
        },
        "StorageTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type",
                "storage_tech"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "region": {
                    "type": "String",
                    "description": "Region/zone technology operates in",
                    "default": "1.0"
                },
                "gen_ID": {
                    "type": "String",
                    "description": "ID for individual generator"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "balancing_topology": {
                    "type": "String",
                    "description": "Set of balancing nodes"
                },
                "base_power": {
                    "type": "Float64",
                    "description": "Base power"
                },
                "prime_mover_type": {
                    "type": "PrimeMovers",
                    "enum": [
                        "BT",
                        "CA",
                        "CC",
                        "CS",
                        "CT",
                        "FC",
                        "GT",
                        "HA",
                        "HB",
                        "HK",
                        "HY",
                        "IC",
                        "OT",
                        "ST",
                        "PVe",
                        "WT",
                        "WS"
                    ],
                    "default": "PrimeMovers.OT",
                    "description": "Prime mover for generator"
                },
                "storage_tech": {
                    "type": "StorageTech",
                    "enum": [
                        "PTES",
                        "LIB",
                        "LAB",
                        "FLWB",
                        "SIB",
                        "ZIB",
                        "HGS",
                        "LAES",
                        "OTHER_CHEM",
                        "OTHER_MECH",
                        "OTHER_THERM"
                    ],
                    "description": "Storage Technology Type"
                },
                "capital_cost_power": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for investing in a technology.",
                    "default": "0.0"
                },
                "operations_cost_power": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for a technology"
                },
                "capital_cost_energy": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for energy capacity of storage technology",
                    "default": "0.0"
                },
                "operations_cost_energy": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for energy capacity of storage technology"
                },
                "initial_capacity_power": {
                    "type": "Float64",
                    "description": "Pre-existing power capacity for a technology (MW)"
                },
                "initial_capacity_energy": {
                    "type": "Float64",
                    "description": "Pre-existing energy capacity for a technology (MWh)"
                },
                "maximum_capacity": {
                    "type": "Float64",
                    "description": "Maximum allowable installed power capacity for a storage technology",
                    "default": "Inf"
                },
                "maximum_capacity_energy": {
                    "type": "Float64",
                    "description": "Maximum allowable installed energy capacity for a storage technology",
                    "default": "Inf"
                },
                "minimum_required_capacity_power": {
                    "type": "Float64",
                    "description": "Minimum required power capacity for a storage technology",
                    "default": "0.0"
                },
                "minimum_required_capacity_energy": {
                    "type": "Float64",
                    "description": "Minimum required energy capacity for a storage technology",
                    "default": "0.0"
                },
                "minimum_duration": {
                    "type": "Float64",
                    "description": "Minimum required durection for a storage technology",
                    "default": "0.0"
                },
                "maximum_duration": {
                    "type": "Float64",
                    "description": "Maximum allowable durection for a storage technology",
                    "default": "1000.0"
                },
                "efficiency_up": {
                    "type": "Float64",
                    "description": "Efficiency of charging storage",
                    "default": "1.0"
                },
                "efficiency_down": {
                    "type": "Float64",
                    "description": "Efficiency of discharging storage",
                    "default": "1.0"
                },
                "self_discharge": {
                    "type": "Float64",
                    "description": "Efficiency of discharging storage",
                    "default": "1.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Storage"
        },
        "DemandSideTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.StaticInjection"
        },
        "FlexibleDemandTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "max_demand_delay": {
                    "type": "Float64",
                    "description": "Maximum number of hours that demand can be deferred or delayed (hours)."
                },
                "max_demand_advance": {
                    "type": "Float64",
                    "description": "Maximum number of hours that demand can be scheduled in advance of the original schedule (hours)."
                },
                "demand_energy_efficiency": {
                    "type": "Float64",
                    "description": "Energy efficiency associated with time shifting demand. Represents energy losses due to time shifting"
                },
                "var_cost_per_mwh": {
                    "type": "PSY.ValueCurve",
                    "description": "Variable operations and maintenance costs associated with flexible demand deferral"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.StaticInjection"
        },
        "Electrolyzers": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "hydrogen_mwh_per_tonne": {
                    "type": "PSY.ValueCurve",
                    "description": "Electrolyzer efficiency in megawatt-hours (MWh) of electricity per metric tonne of hydrogen produced (MWh/t)"
                },
                "electrolyzer_min_kt": {
                    "type": "Float64",
                    "description": "Minimum annual quantity of hydrogen that must be produced by electrolyzer in kilotonnes (kt)"
                },
                "hydrogen_price_per_tonne": {
                    "type": "Float64",
                    "description": "Price (or value) of hydrogen per metric tonne (/t)"
                },
                "min_power": {
                    "type": "Float64",
                    "description": "The minimum generation level for a unit as a fraction of total capacity."
                },
                "ramp_up": {
                    "type": "Float64",
                    "description": "Maximum increase in power output from between two periods (typically hours), reported as a fraction of nameplate capacity."
                },
                "ramp_down": {
                    "type": "Float64",
                    "description": "Maximum decrease in power output from between two periods (typically hours), reported as a fraction of nameplate capacity."
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.StaticInjection"
        },
        "TransportTechnology": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "start_region": {
                    "type": "String",
                    "description": "Start region for transport technology"
                },
                "end_region": {
                    "type": "String",
                    "description": "End region for transport technology"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "existing_flow_capacity": {
                    "type": "Float64",
                    "description": "Existing capacity of transport technology (MW)"
                },
                "maximum_new_capacity": {
                    "type": "Float64",
                    "description": "Maximum capacity that can be added to transmission line (MW)"
                },
                "line_loss": {
                    "type": "Float64",
                    "description": "Transmission loss for each transport technology (%)"
                },
                "resistance": {
                    "type": "Float64",
                    "description": "Technology resistance in Ohms"
                },
                "voltage": {
                    "type": "Float64",
                    "description": "Technology resistance in Ohms"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Device"
        },
        "DemandRequirement": {
            "type": "object",
            "required": [
                "name",
                "available",
                "power_systems_type"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available",
                    "default": "true"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "demand_mw_z": {
                    "type": "Float64",
                    "description": "Demand profile in MW",
                    "default": "0.0"
                },
                "region": {
                    "type": "String",
                    "description": "Corresponding region for peak demand"
                },
                "value_lost_load": {
                    "type": "Float64",
                    "description": "Value of lost load/non-served energy (USD/MWh)",
                    "default": "0.0"
                },
                "cost_of_curtailment": {
                    "type": "Float64",
                    "description": "Cost of non-served energy, fraction of value of lost load",
                    "default": "0.0"
                },
                "max_curtailment": {
                    "type": "Float64",
                    "description": "Maximum percentage of demand that can be curtailed in an investment period",
                    "default": "0.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.StaticInjection"
        },
        "CoLocatedSupplyStorageTechnology": {
            "type": "object",
            "required": [
                "name",
                "available"
            ],
            "properties": {
                "name": {
                    "type": "String",
                    "description": "The technology name"
                },
                "region": {
                    "type": "String",
                    "description": "Region/zone technology operates in",
                    "default": "1.0"
                },
                "gen_ID": {
                    "type": "String",
                    "description": "ID for individual generator"
                },
                "available": {
                    "type": "Bool",
                    "description": "identifies whether the technology is available"
                },
                "power_systems_type": {
                    "type": "String",
                    "description": "maps to a valid PowerSystems.jl for PCM modeling"
                },
                "balancing_topology": {
                    "type": "String",
                    "description": "Set of balancing nodes"
                },
                "base_power": {
                    "type": "Float64",
                    "description": "Base power"
                },
                "prime_mover_type": {
                    "type": "PrimeMovers",
                    "enum": [
                        "PVe",
                        "WT",
                        "OT"
                    ],
                    "default": "PrimeMovers.OT",
                    "description": "Prime mover for generator"
                },
                "capital_cost_gen": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for investing in a technology.",
                    "default": "0.0"
                },
                "operations_cost_gen": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for a technology"
                },
                "capital_cost_power": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for investing in a technology.",
                    "default": "0.0"
                },
                "operations_cost_power": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for a technology"
                },
                "capital_cost_energy": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for energy capacity of storage technology",
                    "default": "0.0"
                },
                "operations_cost_energy": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for energy capacity of storage technology"
                },   
                "capital_cost_inv": {
                    "type": "PSY.ValueCurve",
                    "description": "Capital costs for energy capacity of storage technology",
                    "default": "0.0"
                },
                "operations_cost_inv": {
                    "type": "PSY.OperationalCost",
                    "description": "Fixed O&M costs for energy capacity of storage technology"
                },  
                "initial_gen_capacity": {
                    "type": "Float64",
                    "description": "Pre-existing capacity for a technology"
                },
                "initial_capacity_power": {
                    "type": "Float64",
                    "description": "Pre-existing power capacity for a technology (MW)"
                },
                "initial_capacity_energy": {
                    "type": "Float64",
                    "description": "Pre-existing energy capacity for a technology (MWh)"
                },
                "initial_capacity_inverter": {
                    "type": "Float64",
                    "description": "The existing capacity of co-located VRE-STOR resource's inverter in MW (AC)"
                },
                "maximum_gen_capacity": {
                    "type": "Float64",
                    "description": "Maximum allowable installed capacity for a technology",
                    "default": "-1"
                },
                "maximum_inverter_capacity": {
                    "type": "Float64",
                    "description": "Maximum allowable installed capacity for a technology",
                    "default": "-1"
                },
                "minimum_inverter_capacity": {
                    "type": "Float64",
                    "description": "Minimum allowable installed capacity for a technology",
                    "default": "-1"
                },
                "minimum_required_capacity_gen": {
                    "type": "Float64",
                    "description": "Minimum required capacity for a technology",
                    "default": "-1"
                },
                "maximum_capacity_power": {
                    "type": "Float64",
                    "description": "Maximum allowable installed power capacity for a storage technology",
                    "default": "-1"
                },
                "maximum_capacity_energy": {
                    "type": "Float64",
                    "description": "Maximum allowable installed energy capacity for a storage technology",
                    "default": "-1"
                },
                "minimum_required_capacity_power": {
                    "type": "Float64",
                    "description": "Minimum required power capacity for a storage technology",
                    "default": "-1"
                },
                "minimum_required_capacity_energy": {
                    "type": "Float64",
                    "description": "Minimum required energy capacity for a storage technology",
                    "default": "-1"
                },
                "storage_tech": {
                    "type": "StorageTech",
                    "enum": [
                        "PTES",
                        "LIB",
                        "LAB",
                        "FLWB",
                        "SIB",
                        "ZIB",
                        "HGS",
                        "LAES",
                        "OTHER_CHEM",
                        "OTHER_MECH",
                        "OTHER_THERM"
                    ],
                    "description": "Storage Technology Type"
                },             
                "minimum_duration": {
                    "type": "Float64",
                    "description": "Minimum required durection for a storage technology",
                    "default": "0.0"
                },
                "maximum_duration": {
                    "type": "Float64",
                    "description": "Maximum allowable durection for a storage technology",
                    "default": "1000.0"
                },
                "inverter_ratio": {
                    "type": "Float64",
                    "description": "Ratio of generation capacity to grid connection capacity built",
                    "default": "-1.0"
                },
                "efficiency_up_ac": {
                    "type": "Float64",
                    "description": "Efficiency of charging storage",
                    "default": "1.0"
                },
                "efficiency_down_ac": {
                    "type": "Float64",
                    "description": "Efficiency of discharging storage",
                    "default": "1.0"
                },
                "efficiency_up_dc": {
                    "type": "Float64",
                    "description": "Efficiency of charging storage",
                    "default": "1.0"
                },
                "efficiency_down_dc": {
                    "type": "Float64",
                    "description": "Efficiency of discharging storage",
                    "default": "1.0"
                },
                "self_discharge": {
                    "type": "Float64",
                    "description": "Efficiency of discharging storage",
                    "default": "1.0"
                },
                "ext": {
                    "type": "Dict",
                    "default": "Dict()",
                    "description": "Option for providing additional data"
                },
                "internal": {
                    "type": "InfrastructureSystemsInternal",
                    "default": "InfrastructureSystemsInternal()",
                    "description": "Internal field"
                }
            },
            "supertype":"Technology",
            "parametric":"PSY.Generator"
        }
    }
}
